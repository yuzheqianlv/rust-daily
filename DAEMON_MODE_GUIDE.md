# Rust Daily å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ä½¿ç”¨æŒ‡å—

Rust Daily ç°åœ¨æ”¯æŒå®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼Œå¯ä»¥åœ¨åç«¯è‡ªåŠ¨æ¯ 4 å°æ—¶è¿è¡Œä¸€æ¬¡ï¼ŒæŒç»­ç”Ÿæˆæ—¥æŠ¥ã€‚

## ğŸ¤– å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼æ¦‚è¿°

### ä»€ä¹ˆæ˜¯å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼Ÿ
å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼æ˜¯ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„åå°æœåŠ¡ï¼Œå®ƒä¼šï¼š
- **è‡ªåŠ¨å®šæ—¶æ‰§è¡Œ**: æ¯ 4 å°æ—¶è‡ªåŠ¨ç”Ÿæˆä¸€æ¬¡æ—¥æŠ¥
- **æŒç»­ç›‘æ§**: 24/7 è¿è¡Œï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„
- **æ™ºèƒ½è¿‡æ»¤**: åªå¤„ç†æ–°å†…å®¹ï¼Œé¿å…é‡å¤å¤„ç†
- **é”™è¯¯æ¢å¤**: é‡åˆ°é”™è¯¯æ—¶è‡ªåŠ¨é‡è¯•ï¼Œä¿è¯æœåŠ¡ç¨³å®šæ€§

### â° æ‰§è¡Œæ—¶é—´è¡¨
- **æ‰§è¡Œé—´éš”**: æ¯ 4 å°æ—¶è¿è¡Œä¸€æ¬¡
- **æ‰§è¡Œæ—¶é—´**: æ¯å¤©çš„ 0:00, 4:00, 8:00, 12:00, 16:00, 20:00
- **åŒæ­¥ç­–ç•¥**: ä¸ Freedit Inn Feeds çš„ 4å°æ—¶10åˆ†é’Ÿé—´éš”å®Œç¾é…åˆ

## ğŸš€ å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼

### åŸºæœ¬å¯åŠ¨
```bash
# å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ï¼ˆå‰å°è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°æ—¥å¿—ï¼‰
./target/debug/rust-daily --daemon
```

### åå°è¿è¡Œ
```bash
# åœ¨åå°è¿è¡Œå®ˆæŠ¤è¿›ç¨‹
nohup ./target/debug/rust-daily --daemon > daemon.log 2>&1 &

# æˆ–ä½¿ç”¨ systemdï¼ˆæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰
sudo systemctl start rust-daily-daemon
```

### åœæ­¢å®ˆæŠ¤è¿›ç¨‹
```bash
# å¦‚æœæ˜¯å‰å°è¿è¡Œï¼Œä½¿ç”¨ Ctrl+C ä¼˜é›…åœæ­¢
# å¦‚æœæ˜¯åå°è¿è¡Œ
pkill -f "rust-daily --daemon"
```

## ğŸ“Š ç›‘æ§å’Œç»Ÿè®¡

### æŸ¥çœ‹æ‰§è¡Œç»Ÿè®¡
```bash
# æŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ‰§è¡Œç»Ÿè®¡
./target/debug/rust-daily --task-stats
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
ğŸ“Š å®šæ—¶ä»»åŠ¡ç»Ÿè®¡:
  æ€»æ‰§è¡Œæ¬¡æ•°: 12
  æˆåŠŸæ¬¡æ•°: 10
  å¤±è´¥æ¬¡æ•°: 2
  ä¸Šæ¬¡æ‰§è¡Œ: 2025-08-03 12:00:01 UTC
  ä¸‹æ¬¡æ‰§è¡Œ: 2025-08-03 16:00:00 UTC
```

### æ—¥å¿—ç›‘æ§
```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—ï¼ˆå¦‚æœä½¿ç”¨ nohupï¼‰
tail -f daemon.log

# æœç´¢é”™è¯¯æ—¥å¿—
grep ERROR daemon.log
```

## ğŸ”§ é…ç½®å’Œç¯å¢ƒå˜é‡

### ç¯å¢ƒå˜é‡é…ç½®
```bash
# æŠ¥å‘Šä¿å­˜ç›®å½•ï¼ˆé»˜è®¤ï¼š./reportsï¼‰
export REPORTS_DIR="/path/to/reports"

# DeepSeek API å¯†é’¥
export DEEPSEEK_API_KEY="your-api-key"

# æ—¥å¿—çº§åˆ«
export RUST_LOG="info"
```

### ç³»ç»ŸæœåŠ¡é…ç½®ï¼ˆsystemdï¼‰
åˆ›å»º `/etc/systemd/system/rust-daily-daemon.service`ï¼š

```ini
[Unit]
Description=Rust Daily News Generator Daemon
After=network.target

[Service]
Type=simple
User=your-user
WorkingDirectory=/path/to/rust-daily
Environment=DEEPSEEK_API_KEY=your-api-key
Environment=REPORTS_DIR=/path/to/reports
Environment=RUST_LOG=info
ExecStart=/path/to/rust-daily/target/release/rust-daily --daemon
Restart=always
RestartSec=30

[Install]
WantedBy=multi-user.target
```

å¯ç”¨ç³»ç»ŸæœåŠ¡ï¼š
```bash
sudo systemctl daemon-reload
sudo systemctl enable rust-daily-daemon
sudo systemctl start rust-daily-daemon
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **API é…é¢è€—å°½**
   ```
   ERROR: DeepSeek API rate limit exceeded
   ```
   **è§£å†³**: æ£€æŸ¥ API é…é¢ï¼Œè°ƒæ•´æ‰§è¡Œé¢‘ç‡

2. **ç½‘ç»œè¿æ¥å¤±è´¥**
   ```
   ERROR: è·å– RSS æº å¤±è´¥: network error
   ```
   **è§£å†³**: æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®è®¤ RSS æºå¯è®¿é—®

3. **ç£ç›˜ç©ºé—´ä¸è¶³**
   ```
   ERROR: No space left on device
   ```
   **è§£å†³**: æ¸…ç†ç£ç›˜ç©ºé—´ï¼Œä½¿ç”¨ `--cleanup` å‚æ•°æ¸…ç†æ—§æŠ¥å‘Š

### å¥åº·æ£€æŸ¥
```bash
# æ£€æŸ¥è¿›ç¨‹æ˜¯å¦è¿è¡Œ
ps aux | grep "rust-daily --daemon"

# æ£€æŸ¥æœ€æ–°ç”Ÿæˆçš„æŠ¥å‘Š
ls -la reports/ | head -5

# éªŒè¯ RSS æœåŠ¡å™¨æ˜¯å¦å“åº”
curl http://localhost:7080/health
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### èµ„æºä½¿ç”¨å»ºè®®
- **å†…å­˜**: å»ºè®®è‡³å°‘ 512MB å¯ç”¨å†…å­˜
- **CPU**: å•æ ¸å¿ƒå³å¯ï¼Œç”ŸæˆæœŸé—´ä¼šçŸ­æ—¶é—´ä½¿ç”¨è¾ƒå¤š CPU
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥ï¼Œå»ºè®®å¸¦å®½ â‰¥ 1Mbps
- **å­˜å‚¨**: é¢„ç•™è‡³å°‘ 1GB ç©ºé—´ç”¨äºæŠ¥å‘Šå­˜å‚¨

### ä¼˜åŒ–é…ç½®
```bash
# å‡å°‘ RSS æºæ•°é‡å¯æé«˜æ€§èƒ½
./target/debug/rust-daily --list-sources

# å®šæœŸæ¸…ç†å†å²æ•°æ®
./target/debug/rust-daily --cleanup 30  # ä¿ç•™30å¤©

# è°ƒæ•´å¹¶å‘è®¾ç½®ï¼ˆç¯å¢ƒå˜é‡ï¼‰
export TOKIO_WORKER_THREADS=2
```

## ğŸ”„ é›†æˆå·¥ä½œæµ

### å®Œæ•´çš„è‡ªåŠ¨åŒ–æ–¹æ¡ˆ
1. **å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹**: `./target/debug/rust-daily --daemon`
2. **å¯åŠ¨ RSS æœåŠ¡å™¨**: `./target/debug/rust-daily --serve` (å¦ä¸€ä¸ªç»ˆç«¯)
3. **é…ç½® Freedit**: åœ¨ Inn Feeds ä¸­æ·»åŠ  `http://localhost:7080/feed`
4. **ç›‘æ§è¿è¡Œ**: å®šæœŸæ£€æŸ¥æ—¥å¿—å’Œç»Ÿè®¡ä¿¡æ¯

### æ•°æ®æµç¨‹
```
RSS æº â†’ å®ˆæŠ¤è¿›ç¨‹(æ¯4å°æ—¶) â†’ JSON æŠ¥å‘Š â†’ RSS æœåŠ¡å™¨ â†’ Freedit Inn Feeds
```

### æ—¶é—´åŒæ­¥
- **å®ˆæŠ¤è¿›ç¨‹ç”Ÿæˆ**: 0:00, 4:00, 8:00, 12:00, 16:00, 20:00
- **Freedit æŠ“å–**: æ¯4å°æ—¶10åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
- **æœ€å¤§å»¶è¿Ÿ**: çº¦4å°æ—¶10åˆ†é’Ÿ

## ğŸ›¡ï¸ å®‰å…¨è€ƒè™‘

### ç½‘ç»œå®‰å…¨
- RSS æœåŠ¡å™¨é»˜è®¤ä»…ç›‘å¬ localhost
- å¦‚éœ€å¤–éƒ¨è®¿é—®ï¼Œè¯·é…ç½®é˜²ç«å¢™è§„åˆ™
- ä½¿ç”¨ HTTPS ä»£ç†ï¼ˆå¦‚ nginxï¼‰æä¾› SSL æ”¯æŒ

### æƒé™ç®¡ç†
- ä½¿ç”¨ä¸“ç”¨ç”¨æˆ·è¿è¡ŒæœåŠ¡
- é™åˆ¶æ–‡ä»¶ç³»ç»Ÿè®¿é—®æƒé™
- å®šæœŸè½®æ¢ API å¯†é’¥

### å¤‡ä»½ç­–ç•¥
```bash
# å¤‡ä»½é…ç½®æ–‡ä»¶
cp rss_sources.toml rss_sources.toml.bak

# å¤‡ä»½é‡è¦æŠ¥å‘Š
tar -czf reports-backup-$(date +%Y%m%d).tar.gz reports/
```

## ğŸ’¡ æœ€ä½³å®è·µ

1. **ç›‘æ§è®¾ç½®**: é…ç½®æ—¥å¿—ç›‘æ§å’Œå‘Šè­¦
2. **èµ„æºé™åˆ¶**: ä½¿ç”¨ systemd é™åˆ¶èµ„æºä½¿ç”¨
3. **é”™è¯¯å¤„ç†**: è®¾ç½®å¤±è´¥é‡è¯•å’Œé€šçŸ¥æœºåˆ¶
4. **ç‰ˆæœ¬æ§åˆ¶**: å°†é…ç½®æ–‡ä»¶çº³å…¥ç‰ˆæœ¬ç®¡ç†
5. **æ–‡æ¡£ç»´æŠ¤**: è®°å½•é…ç½®å˜æ›´å’Œè¿ç»´æ“ä½œ

é€šè¿‡å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼ŒRust Daily å¯ä»¥å®Œå…¨è‡ªåŠ¨åŒ–è¿è¡Œï¼Œä¸ºæ‚¨æä¾›æŒç»­ã€ç¨³å®šçš„ Rust æŠ€æœ¯èµ„è®¯æœåŠ¡ï¼